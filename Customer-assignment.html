<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<h1> Customer Data Entry</h1>
	<script>
		let customers = [
			{id:1,name:'Vivek', email:'vivek@abc.com', phone:'8989389333',address:"Singapore"},
			{id:2,name:'Dev', email:'dev@abc.com', phone:'866389333',address:"India"},
			{id:3,name:'Ameer', email:'ameer@abc.com', phone:'877779333',address:"Asia"}
		] //object
		let addCustomer = () => {
            
            for (let i = 0;i = customers[i].id;i++) {
                var id = i
            }
			var name = document.getElementById('NewName').value;
            document.getElementById('NewName').value = '';
            var email = document.getElementById('Email').value;
            document.getElementById('Email').value = '';
            var phone = document.getElementById('PhoneNumber').value;
            document.getElementById('PhoneNumber').value = '';
            var address = document.getElementById('Address').value;
            document.getElementById('Address').value = '';
			var customer = {id:id, name:name,email:email,phone:phone,address:address}
			customers.push(customer);
			updateGUI();
		}

		var displayWords = function(){
			//JSON.stringify(s);
			const result = document.getElementById("result"); //result is the list
			result.innerHTML = "";//make it blank
			for (let i = 0; i < customers.length; i++ ) {
				const newCustomer = document.createElement("div");
				newCustomer.innerHTML = customers[i].id +" "+ customers[i].name+" " + customers[i].email+" "+ customers[i].phone+" "+ customers[i].address;
				result.appendChild(newCustomer);

				const deleteButton = document.createElement("button");
				deleteButton.innerHTML = "X"
				deleteButton.onclick = function(){
					console.log(" Want to delete "+customers[i]);
					customers = customers.filter((item) => (item.id != customers[i].id));
					//customers = customers.filter(function(item){return (item != customers[i])});
					updateGUI();
				}
				newCustomer.appendChild(deleteButton);
			}
		}
		let removeCustomer = () => {
			//how js works
			let temp = [];
			var word = document.getElementById('newWord').value;
			if(word === ""){
				words.pop();
			} else{
				customers = customers.filter(function(item){return (item != word)});
				//customers = customers.filter((item) => (item != word));

				//customers = temp;
			 console.log("Assignment remove :"+word);
			}
			
			updateGUI();
			//customers.shift();
			//customers.unshift();
		}
		let updateGUI = () =>{
			displayWords();
			//document.getElementById('result').innerHTML = words;
		}
        
	</script>
	<input id="NewName" placeholder="Full Name" type="" name="" value=""> <br/> <br/>
	<input id="Email" placeholder="Email Address" type=""  value=""> <br/> <br/>
	<input id="PhoneNumber" placeholder="Phone Number" type=""  value=""> <br/> <br/>
	<input id="Address" placeholder="Address" type=""  value=""> <br/> <br/>
	<input onclick="addCustomer()" type="button" name="" value="Add Customer"> | 
	<input onclick="removeCustomer()" type="button" name="" value="Remove Customer"> | 

	 <br/> <br/>
	 <h4> LISTING</h4> <br/>
	<div id="result"></div>
	<script type="text/javascript">
		updateGUI();
	</script>

</body>
</html>
function generateTableHead(table){
            let thead = table.createTHead();
            let row = thead.insertRow();
            for (let key of data){
                let th = document.createElement('th');
                let text = document.createTextNode(key);
                th.appendChild(text);
                row.appendChild(th)
            }
        }   
        function generateTable(table, data){
            for(let element of data){
                let row = table.insertRow();
                for (key in element){
                    let cell = row.insertCell();
                    let text = document.createTextNode(element[key]);
                    cell.appendChild(text)
                }
            }
        }
        let table = document.querySelector('table');
        let data = Object.keys(customers[0]);
        generateTableHead(table,data);
        generateTable(table,customers);
		let words = ['one','two','three','four']; //object
		let addWord = () => {
			var word = document.getElementById('newWord').value;
			document.getElementById('newWord').value = '';
			words.push(word);
			updateGUI();
		}
